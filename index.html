<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.1/gsap.min.js"></script>
  <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.3.5/css/swiper.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/variable/woff2/SUIT-Variable.css" />
  <link rel="apple-touch-icon" sizes="57x57" href="./assets/images/apple-icon-57x57.png" />
  <link rel="apple-touch-icon" sizes="60x60" href="./assets/images/apple-icon-60x60.png" />
  <link rel="icon" type="image/png" sizes="192x192" href="./assets/images/android-icon-192x192.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png" />
  <link rel="stylesheet" type="text/css" href="global.css" />
  <link rel="stylesheet" type="text/css" href="mq.css" />
  <title>immj-portfolio</title>
  
  <!-- 기존 스타일 -->
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #000;          /* 배경색: 검정 */
      /* 스크롤을 막지 않도록 overflow와 height 설정 제거 */
      min-height: 100vh;         /* 콘텐츠가 늘어날 경우 스크롤 가능 */
      position: relative;
      font-family: 'SUIT Variable', 'Roboto', sans-serif;
    }
    .wrapper,
    .content {
      position: relative;
      width: 100%;
      z-index: 1;
    }
    .content {
      overflow-x: hidden;
    }
    .content .section {
      width: 100%;
      height: 100vh;
      margin-bottom: 25rem;
    }
    .content .section.hero {
      background-image: url(./assets/images/mountains4.jpg);
      background-position: center center;
      background-repeat: no-repeat;
      background-size: cover;
    }
    .image-container {
      width: 100%;
      height: 100vh;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      z-index: 2;
      perspective: 500px;
      overflow: hidden;
    }
    .image-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center center;
    }
    .marquee {
      position: absolute;
      bottom: 2%;
      left: 0;
      width: 100%;
      overflow: hidden;
      white-space: nowrap;
      z-index: 3;
    }
    .marquee-wrapper {
      display: inline-block;
    }
    .marquee-wrapper span {
      display: inline-block;
      font-size: 5.5rem;
      text-transform: uppercase;
      color: #fff;
      margin-right: 4rem;
    }
    .second {
      font-family: 'Roboto', 'SUIT Variable', sans-serif;
    }
    .head {
      text-align: center;
      color: #222;
      margin: 2rem 0;
    }
    .head a {
      color: #222;
    }
    .head h1 {
      font-size: 8.75rem; 
      line-height: 0.8;
    }
    .head h3 {
      font-size: 14px;
      font-weight: normal;
    }
    .carousel {
      overflow-x: clip;
    }
    .swiper {
      padding: 5rem 0;
      overflow: visible;
    }
    .swiper .swiper-slide {
      width: 240px;
    }
    .single {
      position: relative;
      pointer-events: none;
      user-select: none;
      box-shadow: rgba(255, 255, 255, 0.1) 0px 1px 1px 0px inset,
                  rgba(50, 50, 93, 0.25) 0px 50px 100px -20px,
                  rgba(0, 0, 0, 0.3) 0px 30px 60px -30px;
    }
    .single img {
      width: 100%;
      height: auto;
      vertical-align: top;
      border-radius: 8px;
      pointer-events: none;
    }
    
    @media screen and (max-width: 480px) {
      .content .section.hero {
        background-image: url(./assets/images/mountains_m.jpg);
        background-size: cover;
        background-position: center center;
        background-attachment: scroll;
        filter: brightness(1);
        height: 70vh;
      }
      .marquee-wrapper span {
        font-size: 2.5rem;
        margin-right: 2rem;
      }
    }
    @media screen and (max-width: 768px) {
      .content .section.hero {
        background-image: url(./assets/images/mountains_m.jpg);
        background-size: cover;
        background-position: center center;
        filter: brightness(0.9);
      }
      .marquee-wrapper span {
        font-size: 3rem;
        margin-right: 2rem;
      }
    }
    @media screen and (max-width: 1024px) {
      .content .section.hero {
        background-attachment: fixed;
        background-size: cover;
        background-position: center center;
      }
      .marquee-wrapper span {
        font-size: 3rem;
        margin-right: 2rem;
      }
    }
  </style>
  
  <!-- 원 애니메이션 및 스타일 -->
  <style>
    /* 원 애니메이션 효과를 적용할 별도의 컨테이너 */
    .circle-container {
      position: fixed; 
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;  /* 원이 클릭 등 인터랙션에 영향 주지 않음 */
      overflow: hidden;
      z-index: 0;  /* 콘텐츠 뒤에 위치 */
    }
    .circle {
      position: absolute;
      border-radius: 50%;
      filter: blur(16px);
      animation: move 30s linear infinite;
    }
    .circle:nth-child(1) {
      width: 450px;
      height: 650px;
      top: 20%;
      left: 15%;
      background: radial-gradient(circle, rgba(255, 0, 0, 0.5) 0%, rgba(255, 0, 0, 0) 70%);
      animation-duration: 25s;
    }
    .circle:nth-child(2) {
      width: 400px;
      height: 300px;
      top: 40%;
      left: 70%;
      background: radial-gradient(circle, rgba(0, 255, 0, 0.5) 0%, rgba(0, 255, 0, 0) 70%);
      animation-duration: 30s;
    }
    .circle:nth-child(3) {
      width: 280px;
      height: 680px;
      top: 70%;
      left: 30%;
      background: radial-gradient(circle, rgba(0, 0, 255, 0.5) 0%, rgba(0, 0, 255, 0) 70%);
      animation-duration: 20s;
    }
    .circle:nth-child(4) {
      width: 320px;
      height: 520px;
      top: 10%;
      left: 80%;
      background: radial-gradient(circle, rgba(255, 255, 0, 0.5) 0%, rgba(255, 255, 0, 0) 70%);
      animation-duration: 35s;
    }
    .circle:nth-child(5) {
      width: 350px;
      height: 450px;
      top: 50%;
      left: 20%;
      background: radial-gradient(circle, rgba(255, 0, 255, 0.5) 0%, rgba(255, 0, 255, 0) 70%);
      animation-duration: 40s;
    }
    @keyframes move {
      0% {
        transform: translate(0, 0);
      }
      50% {
        transform: translate(200px, 150px);
      }
      100% {
        transform: translate(0, 0);
      }
    }
  </style>
  
</head>
<body>
  <!-- 원 애니메이션 영역 (배경처럼 작동, 스크롤과 독립적) -->
  <div class="circle-container">
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
    <div class="circle"></div>
  </div>

  <!-- 콘텐츠 영역 -->
  <div class="wrapper">
    <div class="content">
      <section class="section hero"></section>
    </div>
    <div class="image-container">
      <img src="./assets/images/air.png" alt="image" />
      <div class="marquee">
        <div class="marquee-wrapper">
          <span>Mj is ascending higher and higher.</span>
          <span>Mj is ascending higher and higher.</span>
          <span>Mj is ascending higher and higher.</span>
          <span>Mj is ascending higher and higher.</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- section hero와 section second 사이에 위치 -->
  <section class="section second">
    <div class="head">
      <h1 class="left-text">Work</h1>
      <h1 class="right-text">experience</h1>
    </div>
    <div class="carousel">
      <div class="swiper">
        <div class="swiper-wrapper">
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=1" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=2" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=3" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=4" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=5" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=1" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=2" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=3" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=4" alt="" />
            </div>
          </div>
          <div class="swiper-slide">
            <div class="single">
              <img src="https://picsum.photos/800/1200?random=5" alt="" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <section class="section third"></section>
  
  <!-- GSAP 및 ScrollTrigger 애니메이션 -->
  <script>
    console.clear();
    gsap.registerPlugin(ScrollTrigger);
    
    window.addEventListener("load", () => {
      // Hero 섹션 애니메이션
      gsap.timeline({
        scrollTrigger: {
          trigger: ".wrapper",
          start: "top top",
          end: "+=300%",
          pin: true,
          scrub: true,
          markers: true
        }
      })
      .to(".image-container > img", {  
        scale: 2,
        z: 350,
        transformOrigin: "center center",
        ease: "power1.inOut"
      })
      .to(".section.hero", {
        scale: 1.1,
        transformOrigin: "center center",
        ease: "power1.inOut"
      }, "<");
      
      gsap.to(".marquee-wrapper", {
        x: "-50%",
        ease: "none",
        duration: 20,
        repeat: -1
      });
      
      // .second 섹션 텍스트 애니메이션
      gsap.fromTo(".left-text", 
        { x: -600, opacity: 0 }, 
        { 
          x: 0, 
          opacity: 1, 
          ease: "power1.out",
          scrollTrigger: {
            trigger: ".second",
            start: "top center",
            end: "bottom center",
            scrub: true
          }
        }
      );
      
      gsap.fromTo(".right-text", 
        { x: 600, opacity: 0 }, 
        { 
          x: 0, 
          opacity: 1, 
          ease: "power1.out",
          scrollTrigger: {
            trigger: ".second",
            start: "top center",
            end: "bottom center",
            scrub: true
          }
        }
      );
    });
  </script>
  
  <!-- Swiper 슬라이더 설정 -->
  <script>
    const multiplier = {
      translate: 0.1,
      rotate: 0.01
    };
    
    new Swiper('.swiper', {
      slidesPerView: 'auto',
      spaceBetween: 90,
      centeredSlides: true,
      loop: true,
      grabCursor: true
    });
    
    function calculateWheel() {
      const slides = document.querySelectorAll('.single');
      slides.forEach((slide) => {
        const rect = slide.getBoundingClientRect();
        const r = window.innerWidth * 0.5 - (rect.x + rect.width * 0.5);
        let ty = Math.abs(r) * multiplier.translate - rect.width * multiplier.translate;
    
        if (ty < 0) {
          ty = 0;
        }
        const transformOrigin = r < 0 ? 'left top' : 'right top';
        slide.style.transform = `translate(0, ${ty}px) rotate(${-r * multiplier.rotate}deg)`;
        slide.style.transformOrigin = transformOrigin;
      });
    }
    
    function raf() {
      requestAnimationFrame(raf);
      calculateWheel();
    }
    
    raf();
  </script>
</body>
</html>
